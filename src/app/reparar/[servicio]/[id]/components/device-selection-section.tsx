'use client';

import type { ReactNode } from 'react';

import { useMemo, useState, useEffect } from 'react';

import Box from '@mui/material/Box';
import Card from '@mui/material/Card';
import Stack from '@mui/material/Stack';
import MenuItem from '@mui/material/MenuItem';
import TextField from '@mui/material/TextField';
import Typography from '@mui/material/Typography';

// ----------------------------------------------------------------------

type Step = {
  title: string;
  description: string;
  icon: ReactNode;
};

type DeviceBrand = {
  id: string;
  name: string;
  models: { id: string; name: string }[];
};

type DeviceSelectionSectionProps = {
  steps: Step[];
  brands: DeviceBrand[];
  defaultBrandId?: string;
  defaultModelId?: string;
  onSelectionChange?: (selection: {
    brandId: string;
    brandName: string;
    modelId: string;
    modelName: string;
  }) => void;
  onContinue?: () => void;
};

export function DeviceSelectionSection({
  steps,
  brands,
  defaultBrandId,
  defaultModelId,
  onSelectionChange,
  onContinue,
}: DeviceSelectionSectionProps) {
  const [brandId, setBrandId] = useState<string>('');
  const availableModels = useMemo(
    () => brands.find((brand) => brand.id === brandId)?.models ?? [],
    [brands, brandId]
  );
  const [modelId, setModelId] = useState<string>('');

  useEffect(() => {
    // Reset model when brand changes and current model is not available
    if (modelId && !availableModels.find((model) => model.id === modelId)) {
      setModelId('');
    }
  }, [availableModels, modelId]);

  useEffect(() => {
    if (!onSelectionChange) {
      return;
    }
    const brand = brands.find((item) => item.id === brandId);
    const model = availableModels.find((item) => item.id === modelId);
    onSelectionChange({
      brandId,
      brandName: brand?.name ?? '',
      modelId,
      modelName: model?.name ?? '',
    });
  }, [availableModels, brandId, brands, modelId, onSelectionChange]);

  const selectedBrandName = brandId
    ? (brands.find((brand) => brand.id === brandId)?.name ?? '-- Seleccionar --')
    : '-- Seleccionar --';
  const selectedModelName = modelId
    ? (availableModels.find((model) => model.id === modelId)?.name ?? '-- Seleccionar --')
    : '-- Seleccionar --';

  return (
    <Box
      sx={{
        display: 'grid',
        gap: { xs: 4, md: 3 },
        gridTemplateColumns: { xs: '1fr', md: '1fr 1fr' },
        alignItems: 'stretch',
      }}
    >
      <Card
        sx={{
          p: { xs: 3, md: 4 },
          maxWidth: '559px',
          borderRadius: '10px',
          backgroundColor: '#FBFBFB',
          boxShadow: 'none',
          border: '1px solid rgba(127, 116, 106, 0.20)',
        }}
      >
        <Stack spacing={{ xs: 4, md: 9 }}>
          {steps.map((step, index) => (
            <Stack
              key={step.title}
              direction={{ xs: 'column', sm: 'row' }}
              spacing={2.5}
              alignItems={{ xs: 'flex-start', sm: 'flex-start' }}
            >
              <Box
                sx={{
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  width: 72,
                  height: 72,
                  color: '#7C6F63',
                }}
              >
                {step.icon}
              </Box>

              <Stack spacing={0.75} textAlign={{ xs: 'left', sm: 'left' }}>
                <Typography variant="subtitle1" sx={{ fontWeight: 600, color: '#7C6F63' }}>
                  {index + 1}. {step.title}
                </Typography>
                <Typography variant="body2" sx={{ color: '#9C9084' }}>
                  {step.description}
                </Typography>
              </Stack>
            </Stack>
          ))}
        </Stack>
      </Card>

      <Card
        sx={{
          p: { xs: 3, md: 0 },
          borderRadius: '0px',
          backgroundColor: '#FFFFFF',
          border: 'none',
          boxShadow: 'none',
          display: 'flex',
          flexDirection: 'column',
          gap: 3,
        }}
      >
        <Box>
          <Box
            sx={{
              borderRadius: '10px',
              display: 'flex',
              width: 'fit-content',
              padding: '10px 37px',
              justifyContent: 'center',
              alignItems: 'center',
              gap: '10px',
              background: '#F8F8F8',
              mb: 4,
            }}
          >
            <Typography
              sx={{
                color: '#7F746A',
                textAlign: 'center',
                fontSize: '16px',
                fontWeight: 600,
                lineHeight: '24px',
                letterSpacing: '-0.16px',
              }}
            >
              Selecci√≥n de dispositivo
            </Typography>
          </Box>

          <Typography
            sx={{
              color: '#A49A8F',
              fontWeight: 500,
              letterSpacing: '-0.96px',
              mb: 3,
              fontSize: { xs: '32px', md: '48px' },
              lineHeight: { xs: '40px', md: '60px' },
            }}
          >
            <span style={{ color: '#7F746A' }}>Selecciona</span> el dispositivo a reparar
          </Typography>
        </Box>

        <Stack spacing={3}>
          <Box
            sx={{
              display: 'grid',
              gap: { xs: 1.5, sm: 2 },
              gridTemplateColumns: { xs: '1fr', sm: 'minmax(160px, 220px) minmax(220px, 1fr)' },
              alignItems: 'center',
            }}
          >
            <Box>
              <Typography sx={{ fontWeight: 600, color: '#7C6F63', mb: 0.75 }}>Marca</Typography>
              <Typography sx={{ color: '#9C9084' }}>{selectedBrandName}</Typography>
            </Box>

            <TextField
              select
              value={brandId}
              onChange={(event) => setBrandId(event.target.value)}
              fullWidth
            >
              <MenuItem value="">-- Seleccionar --</MenuItem>
              {brands.map((brand) => (
                <MenuItem key={brand.id} value={brand.id}>
                  {brand.name}
                </MenuItem>
              ))}
            </TextField>
          </Box>

          <Box
            sx={{
              display: 'grid',
              gap: { xs: 1.5, sm: 2 },
              gridTemplateColumns: { xs: '1fr', sm: 'minmax(160px, 220px) minmax(220px, 1fr)' },
              alignItems: 'center',
            }}
          >
            <Box>
              <Typography sx={{ fontWeight: 600, color: '#7C6F63', mb: 0.75 }}>Modelo</Typography>
              <Typography sx={{ color: '#9C9084' }}>{selectedModelName}</Typography>
            </Box>

            <TextField
              select
              value={modelId}
              onChange={(event) => setModelId(event.target.value)}
              fullWidth
              disabled={!brandId || availableModels.length === 0}
            >
              <MenuItem value="">-- Seleccionar --</MenuItem>
              {availableModels.map((model) => (
                <MenuItem key={model.id} value={model.id}>
                  {model.name}
                </MenuItem>
              ))}
            </TextField>
          </Box>
        </Stack>
      </Card>
    </Box>
  );
}

// ----------------------------------------------------------------------

export function StepChooseModelIcon() {
  return (
    <svg width="79" height="79" viewBox="0 0 79 79" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M41.2188 10.582L65.916 28.1406L65.9971 28.084L66.8125 28.6631L66.7314 28.7197L71.3838 32.0283L66.5703 35.4492L71.2236 38.7578L66.4121 42.1777L71.0674 45.4883L66.2539 48.9092L70.9072 52.2178L41.2188 73.3242V74.709L40.2188 74.71V74.0352L39.3643 74.6436L8 52.3447L12.8125 48.9229L8.16016 45.6152L12.9707 42.1943L8.31641 38.8848L13.1289 35.4629L8.47656 32.1553L40.0195 9.72949L40.2188 9.87109V9.58789H41.2188V10.582ZM9.63086 52.3447L39.3643 73.4844L40.2188 72.876V67.4199L39.5244 67.9141L13.6279 49.502L9.63086 52.3447ZM41.2188 66.709V72.165L69.2773 52.2178L65.4395 49.4893L41.2188 66.709ZM14.4434 48.9229L39.5244 66.7549L40.2188 66.2607V60.8008L39.6807 61.1836L18.4385 46.0811L14.4434 48.9229ZM41.2188 60.0898V65.5498L64.624 48.9092L60.7842 46.1787L41.2188 60.0898ZM19.2539 45.502L39.6807 60.0254L40.2188 59.6426V54.1846L39.8408 54.4541L23.251 42.6592L19.2539 45.502ZM41.2188 53.4736V58.9316L59.9697 45.5996L56.1318 42.8711L41.2188 53.4736ZM28.8789 38.6582L29.8389 39.3408L29.0244 39.9209L28.0635 39.2373L24.0664 42.0801L39.8408 53.2959L40.2188 53.0264V47.5693L40.001 47.7246L38.4336 46.6104L38.915 46.2676C38.8177 46.0627 38.7617 45.8338 38.7617 45.5918C38.7619 44.7208 39.4679 44.0148 40.3389 44.0146C41.21 44.0146 41.9168 44.7207 41.917 45.5918C41.917 45.9704 41.7829 46.318 41.5605 46.5898L41.5791 46.6035L41.4971 46.6611C41.4137 46.7513 41.321 46.8326 41.2188 46.9014V52.3154L55.3174 42.292L51.4795 39.5635L51.041 39.876L50.2266 39.2969L50.665 38.9844L39.543 31.0771L28.8789 38.6582ZM9.79102 45.6152L13.6279 48.3428L17.623 45.502L13.7861 42.7734L9.79102 45.6152ZM61.5986 45.5996L65.4395 48.3301L69.4375 45.4883L65.5967 42.7578L61.5986 45.5996ZM56.9463 42.292L60.7842 45.0205L64.7822 42.1777L60.9443 39.4492L56.9463 42.292ZM14.6016 42.1943L18.4385 44.9219L22.4355 42.0791L18.5986 39.3516L14.6016 42.1943ZM36.1113 43.8008L35.2969 44.3799L32.1602 42.1504L32.9756 41.5703L36.1113 43.8008ZM47.8877 42.1182L44.7334 44.3613L43.918 43.7812L47.0723 41.5391L47.8877 42.1182ZM19.4141 38.7725L23.251 41.5L27.248 38.6582L25.8877 37.6904L26.7021 37.1113L28.0635 38.0781L39.543 29.9189L40.2188 30.3984V27.1572H41.2188V31.1094L51.4795 38.4053L53.3809 37.0537L54.1953 37.6338L52.2939 38.9844L56.1318 41.7129L60.1299 38.8701L39.7031 24.3477L19.4141 38.7725ZM9.94727 38.8848L13.7861 41.6143L17.7832 38.7715L13.9443 36.042L9.94727 38.8848ZM61.7588 38.8701L65.5967 41.5986L69.5938 38.7578L65.7559 36.0293L61.7588 38.8701ZM41.2188 40.334H40.2188V35.9414H41.2188V40.334ZM14.7598 35.4629L18.5986 38.1924L22.5957 35.3496L19.6152 33.2305L20.4297 32.6514L23.4111 34.7705L39.7031 23.1895L60.9443 38.291L64.9404 35.4492L41.2188 18.584V22.7646H40.2188V18.373H40.9209L39.8594 17.6182L14.7598 35.4629ZM60.5039 33.1484L57.3496 35.3906L56.5352 34.8115L59.6895 32.5684L60.5039 33.1484ZM14.9189 28.7334L17.293 30.4209L16.4785 31.001L14.1045 29.3125L10.1074 32.1553L13.9443 34.8828L39.8594 16.459L65.7559 34.8701L69.7539 32.0283L65.916 29.2998L63.6582 30.9053L62.8428 30.3262L65.1006 28.7197L41.2188 11.7412V13.9805H40.2188V11.0303L40.0195 10.8887L14.9189 28.7334ZM11.0293 24.8838L10.2676 25.4258L11.0205 25.9609L10.2051 26.541L8.63672 25.4258L10.2148 24.3047L11.0293 24.8838ZM71.5439 25.2988L69.9668 26.4209L69.1514 25.8408L69.9141 25.2988L69.1611 24.7637L69.9766 24.1846L71.5439 25.2988ZM17.3379 20.3984L14.1836 22.6416L13.3691 22.0615L16.5225 19.8193L17.3379 20.3984ZM66.8398 21.9541L66.0244 22.5342L62.8877 20.3037L63.7031 19.7246L66.8398 21.9541ZM23.6465 15.9141L20.4922 18.1562L19.6768 17.5771L22.8311 15.334L23.6465 15.9141ZM60.5664 17.4951L59.752 18.0742L56.6152 15.8438L57.4307 15.2646L60.5664 17.4951ZM29.9551 11.4287L26.8008 13.6709L25.9854 13.0918L29.1396 10.8496L29.9551 11.4287ZM54.2939 13.0342L53.4785 13.6143L50.3428 11.3848L51.1572 10.8047L54.2939 13.0342ZM36.2627 6.94336L33.1084 9.18652L32.2939 8.60645L35.4482 6.36426L36.2627 6.94336ZM48.0205 8.5752L47.2061 9.1543L44.0693 6.92383L44.8848 6.34473L48.0205 8.5752ZM41.2188 3.73828L41.748 4.11523L41.2188 4.49023V5.19629H40.2188V4.18652L40.1797 4.15918L39.417 4.70117L38.6025 4.12109L40.1797 3L40.2188 3.02734V3H41.2188V3.73828Z"
        fill="#7F746A"
      />
    </svg>
  );
}

export function StepConfirmIcon() {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="68" height="51" viewBox="0 0 68 51" fill="none">
      <path
        d="M23.3594 13.4863V11.1152H24.3594V14.0635L44.002 25.4053L24.3594 36.7451V39.6953H23.3594V37.3223L0 50.8096V0L23.3594 13.4863ZM24.2764 49.2217H24.3594V49.3672L24.7344 50.0156H24.7354L23.3594 50.8096V49.2217H24.1113L24.2344 49.1504L24.2764 49.2217ZM1 49.0781L42.002 25.4053L1 1.73242V49.0781ZM30.2344 46.8398L27.4844 48.4277L26.9844 47.5625L29.7344 45.9746L30.2344 46.8398ZM24.3594 46.0469H23.3594V42.8711H24.3594V46.0469ZM35.7344 43.6641L32.9844 45.252V45.2529L32.4844 44.3867L35.2344 42.7988L35.7344 43.6641ZM41.2354 40.4883L38.4854 42.0771H38.4844L37.9844 41.2109L40.7354 39.623L41.2354 40.4883ZM46.7354 37.3135H46.7363L43.9854 38.9004V38.9014L43.4854 38.0352L46.2354 36.4473L46.7354 37.3135ZM52.2354 34.1377H52.2363L49.4863 35.7256H49.4854L48.9854 34.8594L51.7354 33.2725L52.2354 34.1377ZM24.3594 33.3438H23.3594V30.1689H24.3594V33.3438ZM57.7354 30.9619L54.9863 32.5498H54.9854L54.4854 31.6846L57.2354 30.0967L57.7354 30.9619ZM63.2363 27.7861L60.4863 29.374V29.375L59.9863 28.5088L62.7363 26.9209L63.2363 27.7861ZM23.6299 22.6895C24.98 22.6895 26.0742 23.7837 26.0742 25.1338C26.0741 26.4838 24.9799 27.5781 23.6299 27.5781C22.28 27.578 21.1857 26.4837 21.1855 25.1338C21.1855 23.7838 22.2799 22.6896 23.6299 22.6895ZM67.3613 25.4053L65.9863 26.1982V26.1992L65.6123 25.5488L65.4863 25.4775L65.5283 25.4053L65.4863 25.333L65.6123 25.2607L65.9863 24.6113L67.3613 25.4053ZM63.2363 23.0234L62.7363 23.8896L59.9863 22.3018L60.4863 21.4355L63.2363 23.0234ZM57.7363 19.8467L57.7354 19.8477L57.4854 20.2812V20.2803L57.2354 20.7139L54.4854 19.126L54.9854 18.2598L57.7363 19.8467ZM24.3594 20.6416H23.3594V17.4658H24.3594V20.6416ZM52.2354 16.6719L51.9854 17.1055V17.1045L51.7354 17.5381L48.9854 15.9502L49.4854 15.085L49.4863 15.084L52.2354 16.6719ZM46.7363 13.4961L46.7354 13.4971L46.2354 14.3623L43.4854 12.7754L43.9854 11.9092L43.9863 11.9082L46.7363 13.4961ZM41.2363 10.3203L41.2354 10.3213L40.7354 11.1875L37.9844 9.59961L38.4844 8.7334L38.4854 8.73242L41.2363 10.3203ZM35.7354 7.14453L35.7344 7.14551L35.2344 8.01172L32.4844 6.42383L32.9844 5.55762L32.9854 5.55664L35.7354 7.14453ZM24.3594 7.93945H23.3594V4.76367H24.3594V7.93945ZM30.2354 3.96875L30.2344 3.96973L29.9844 4.40332V4.40234L29.7344 4.83594L26.9844 3.24805L27.4844 2.38184L27.4854 2.38086L30.2354 3.96875ZM24.7354 0.792969L24.7344 0.793945L24.4844 1.22754V1.22656L24.3594 1.44336V1.58789H24.2764L24.2344 1.66016L24.1094 1.58789H23.3594V0L24.7354 0.792969Z"
        fill="#7F746A"
      />
    </svg>
  );
}

export function StepDeliverIcon() {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="79"
      height="107"
      viewBox="0 0 79 107"
      fill="none"
    >
      <path
        d="M41.8979 73.3604C41.2286 73.3946 40.5604 73.4088 39.894 73.4023L39.9028 72.4043C40.5491 72.4106 41.198 72.3985 41.8472 72.3652L41.8979 73.3604ZM36.0249 72.1309C36.6665 72.2154 37.3125 72.2814 37.9604 72.3271L37.8901 73.3213C37.2217 73.2741 36.5559 73.2074 35.894 73.1201L36.0249 72.1309ZM45.8813 72.9121C45.2201 73.0276 44.5585 73.1228 43.897 73.1973L43.7847 72.2061C44.4262 72.1339 45.0683 72.0426 45.7095 71.9307L45.8813 72.9121ZM32.2075 71.3916C32.8348 71.553 33.4678 71.6958 34.105 71.8193L34.0103 72.3086L33.9614 72.5605L33.9155 72.7979C33.2585 72.6705 32.6062 72.5238 31.9595 72.3574L32.0825 71.875H32.0835L32.2075 71.3916ZM49.7817 71.9844C49.1386 72.179 48.4938 72.3549 47.8472 72.5088L47.6147 71.5371C48.2418 71.3879 48.8688 71.2191 49.4927 71.0303L49.7817 71.9844ZM28.5063 70.1982C29.1103 70.4339 29.722 70.6515 30.3394 70.8506L30.0337 71.7998C29.3971 71.5945 28.7668 71.3699 28.144 71.127L28.3247 70.6641L28.5063 70.1982ZM53.3452 70.1396L53.5454 70.5957C53.2397 70.7297 52.9313 70.8616 52.6196 70.9873L51.8208 71.2979C51.7748 71.315 51.7281 71.3307 51.6821 71.3477L51.5083 70.8809L51.5093 70.8799L51.3364 70.4121C51.6402 70.3 51.9432 70.1815 52.2456 70.0596C52.5481 69.9376 52.8484 69.8126 53.145 69.6826L53.3452 70.1396ZM24.9751 68.5693C25.5468 68.8758 26.1276 69.1661 26.7163 69.4375L26.5073 69.8916L26.2983 70.3428C25.6914 70.0629 25.0929 69.7642 24.5034 69.4482L24.9751 68.5693ZM56.8599 68.3418L57.1128 68.7715C56.5407 69.1091 55.9548 69.4295 55.3569 69.7354L54.9019 68.8486C55.482 68.5518 56.05 68.2387 56.605 67.9111L56.8599 68.3418ZM21.6646 66.5303C22.1956 66.9034 22.7381 67.2598 23.2896 67.5996L23.0269 68.0244L22.7661 68.4482C22.1975 68.0979 21.6389 67.7305 21.0913 67.3457L21.3774 66.9385L21.6646 66.5303ZM60.1333 66.1318L60.436 66.5264C59.9077 66.932 59.3647 67.3224 58.8081 67.6982L58.2495 66.8721C58.7891 66.5078 59.3155 66.1285 59.8276 65.7354L60.1333 66.1318ZM18.6245 64.1055C19.107 64.5403 19.6019 64.9599 20.1079 65.3633L19.4868 66.1436C18.9648 65.7275 18.4542 65.2953 17.9565 64.8467L18.6245 64.1055ZM63.4604 63.8955C62.9848 64.3628 62.4939 64.8168 61.9878 65.2568L61.3335 64.5049C61.824 64.0785 62.3003 63.6374 62.7612 63.1846L63.4604 63.8955ZM39.8013 12.6602C46.1154 12.5082 52.2833 14.5773 57.228 18.5068C62.1728 22.4365 65.582 27.9776 66.8599 34.1631C68.1376 40.3484 67.2038 46.7862 64.2212 52.3535C61.2384 57.9209 56.3952 62.2653 50.5376 64.6279L50.1636 63.7002C55.8038 61.4252 60.4672 57.2418 63.3394 51.8809C66.2113 46.52 67.1108 40.3211 65.8804 34.3652C64.6499 28.4092 61.3673 23.0739 56.606 19.29C51.8446 15.5063 45.9057 13.5138 39.8257 13.6602C33.7457 13.8066 27.9092 16.0822 23.3354 20.0908C18.7618 24.0994 15.7398 29.5865 14.7974 35.5947C13.8549 41.603 15.0515 47.7523 18.1782 52.9688C21.305 58.1852 26.1645 62.1387 31.9077 64.1396L31.5786 65.084C25.6142 63.006 20.569 58.8998 17.3218 53.4824C14.0746 48.0651 12.8324 41.6802 13.811 35.4404C14.7898 29.2008 17.9265 23.5019 22.6763 19.3389C27.4261 15.1759 33.4872 12.8123 39.8013 12.6602ZM15.8999 61.333C16.3264 61.8236 16.7673 62.2997 17.2202 62.7607L16.5083 63.459C16.0414 62.9836 15.5877 62.4931 15.1479 61.9873L15.8999 61.333ZM66.146 60.918C65.7299 61.44 65.2968 61.9505 64.8481 62.4482L64.4771 62.1152L64.478 62.1143L64.106 61.7812C64.5409 61.2987 64.9613 60.8031 65.3647 60.2969L66.146 60.918ZM13.5327 58.25C13.897 58.7895 14.2773 59.315 14.6704 59.8271L14.2729 60.1318L13.8784 60.4346C13.473 59.9064 13.0822 59.364 12.7065 58.8076L13.5327 58.25ZM68.4497 57.6387C68.0994 58.2071 67.7318 58.766 67.3472 59.3135L66.5298 58.7402C66.9029 58.2093 67.2594 57.6675 67.5991 57.1162L68.4497 57.6387ZM40.1011 51C41.8128 51 43.2007 52.3879 43.2007 54.0996C43.2007 54.114 43.1989 54.1283 43.1987 54.1426L43.3726 55.0469C43.2583 55.0686 43.1432 55.0872 43.0288 55.1064C42.6104 56.3232 41.4598 57.1992 40.1011 57.1992C38.3894 57.1992 37.0015 55.8113 37.0015 54.0996C37.0015 52.3879 38.3894 51 40.1011 51ZM11.5571 54.9014C11.8539 55.4815 12.1671 56.0495 12.4946 56.6045L11.6333 57.1123C11.2955 56.54 10.9754 55.9536 10.6694 55.3555L11.5571 54.9014ZM32.3003 19.6309C36.9813 17.7224 42.1839 17.5174 47.0005 19.0518C51.8172 20.5864 55.9434 23.7636 58.6577 28.0283C61.3717 32.2928 62.503 37.3747 61.854 42.3877C61.2049 47.4009 58.8168 52.0282 55.106 55.4609L54.4263 54.7266C57.9652 51.4529 60.2427 47.0407 60.8618 42.2598C61.4808 37.4788 60.4024 32.6315 57.814 28.5645C55.2254 24.4975 51.2911 21.4674 46.6978 20.0039C42.1043 18.5405 37.1424 18.7366 32.6782 20.5566C28.2141 22.3768 24.5298 25.706 22.269 29.9639C20.0083 34.2219 19.3141 39.1389 20.3071 43.8564C21.3002 48.574 23.9182 52.794 27.7036 55.7793L27.394 56.1709L27.0845 56.5645C23.115 53.4341 20.371 49.0093 19.3296 44.0625C18.2883 39.1158 19.0158 33.9609 21.3862 29.4961C23.7568 25.0312 27.6193 21.5395 32.3003 19.6309ZM70.3433 54.1064C70.0635 54.7132 69.7656 55.3121 69.4497 55.9014L68.5708 55.4307C68.8773 54.8589 69.1655 54.2772 69.437 53.6885L70.3433 54.1064ZM47.2651 53.7627C46.9585 53.91 46.6457 54.0496 46.3257 54.1787C46.0057 54.3078 45.6829 54.4246 45.3599 54.5312L45.2026 54.0586L45.2036 54.0576L45.0464 53.584C45.3492 53.484 45.6515 53.373 45.9517 53.252C46.2516 53.131 46.5453 53.0013 46.8325 52.8633L47.2651 53.7627ZM33.8276 52.7422C34.4008 53.0312 34.9924 53.2829 35.5981 53.4951L35.4331 53.9668L35.2671 54.4365C34.6209 54.2101 33.9898 53.9421 33.3784 53.6338L33.6021 53.1885L33.8276 52.7422ZM10.3452 52.2451C10.4672 52.5475 10.5932 52.848 10.7231 53.1445L10.2651 53.3447L9.8335 53.5342L9.80908 53.5439C9.67522 53.2385 9.54404 52.9305 9.41846 52.6191L9.10693 51.8203C9.08976 51.7744 9.07506 51.7276 9.05811 51.6816L9.5249 51.5088L9.99365 51.3359C10.1058 51.6396 10.2233 51.9428 10.3452 52.2451ZM50.6978 51.5215H50.6987C50.1831 51.9653 49.6334 52.3765 49.0542 52.7549V52.7559L48.5083 51.9189C49.0499 51.5651 49.5624 51.1785 50.0444 50.7637L50.6978 51.5215ZM30.6538 50.583C31.1341 51.0116 31.6417 51.4058 32.1704 51.7656L31.6079 52.5918C31.0432 52.2076 30.5029 51.785 29.9897 51.3271L30.6538 50.583ZM71.8013 50.3721C71.5961 51.0085 71.3713 51.6382 71.1284 52.2607L70.9487 52.1924L70.1987 51.8984C70.4343 51.2946 70.651 50.6828 70.8501 50.0654L71.8013 50.3721ZM53.4263 48.4629C53.0421 49.0276 52.6194 49.5679 52.1616 50.0811L51.7886 49.75L51.7896 49.749L51.4165 49.417C51.8449 48.9369 52.2395 48.4299 52.5991 47.9014L53.4263 48.4629ZM28.1519 47.6748C28.5058 48.2165 28.8932 48.7297 29.3081 49.2119L28.5493 49.8633C28.1059 49.348 27.694 48.7995 27.3159 48.2207L27.7339 47.9482L27.7349 47.9473L28.1519 47.6748ZM8.86865 47.6152C9.01777 48.242 9.18583 48.8677 9.37451 49.4912L8.896 49.6367L8.42041 49.7803C8.22591 49.1375 8.04975 48.4929 7.896 47.8467L8.38135 47.7305L8.86865 47.6152ZM72.7993 46.4893C72.672 47.1463 72.5252 47.7985 72.3589 48.4453L72.1938 48.4043L71.3921 48.1973C71.5534 47.5702 71.6954 46.9377 71.8188 46.3008L72.7993 46.4893ZM55.271 44.8027C55.0444 45.4496 54.7768 46.0814 54.4683 46.6934L53.5757 46.2432C53.8646 45.6702 54.1165 45.0783 54.3286 44.4727L55.271 44.8027ZM26.4878 44.2129C26.5877 44.5156 26.6988 44.8171 26.8198 45.1172C26.9409 45.4175 27.0703 45.7125 27.2085 46L26.3091 46.4316C26.1617 46.1249 26.0212 45.8113 25.8921 45.4912C25.763 45.1712 25.6472 44.8485 25.5405 44.5254L26.4878 44.2129ZM8.19971 43.7842C8.2719 44.4259 8.3631 45.0686 8.4751 45.71L7.49268 45.8809C7.37716 45.2193 7.28197 44.5574 7.20752 43.8955L8.19971 43.7842ZM73.3237 42.5146C73.2766 43.1829 73.2078 43.8481 73.1206 44.5098L72.1313 44.3799C72.2159 43.7382 72.2819 43.0923 72.3276 42.4443L73.3237 42.5146ZM56.1118 40.791C56.06 41.4767 55.9628 42.1558 55.8228 42.8242L54.8442 42.6201C54.9754 41.9943 55.0662 41.3585 55.1147 40.7168L56.1118 40.791ZM25.771 40.4434C25.8067 41.0783 25.8835 41.7161 26.0044 42.3516L25.0239 42.5381C24.8946 41.8585 24.8101 41.1772 24.772 40.498L25.771 40.4434ZM8.00049 39.9023C7.99421 40.5485 8.00732 41.1976 8.04053 41.8467L7.04443 41.8975C7.01016 41.2276 6.99692 40.5584 7.00342 39.8916L8.00049 39.9023ZM73.3628 38.5068C73.3971 39.1762 73.4103 39.8444 73.4038 40.5107L72.4058 40.502C72.412 39.8558 72.398 39.2077 72.3647 38.5586L73.3628 38.5068ZM55.8804 36.6992C56.0096 37.3782 56.0941 38.0587 56.1323 38.7373L55.1343 38.7949C55.0985 38.1598 55.0199 37.5223 54.8989 36.8867L55.3911 36.792L55.8804 36.6992ZM26.0601 36.6172C25.9289 37.2431 25.8371 37.8797 25.7886 38.5215L25.2915 38.4834L24.9058 38.4551L24.7935 38.4453C24.8454 37.7596 24.9424 37.0805 25.0825 36.4121L26.0601 36.6172ZM8.27393 36.0244C8.18933 36.6662 8.12435 37.3119 8.07861 37.96L7.58057 37.9238L7.57959 37.9248L7.0835 37.8887C7.13069 37.2202 7.1974 36.5544 7.28467 35.8926L8.27393 36.0244ZM72.9126 34.5234C73.0281 35.1846 73.1253 35.8463 73.1997 36.5078L72.2065 36.6211C72.1344 35.9794 72.0422 35.3367 71.9302 34.6953L72.9126 34.5234ZM54.5972 32.8057C54.7446 33.1124 54.8841 33.426 55.0132 33.7461C55.1422 34.066 55.2591 34.388 55.3657 34.7109L54.4175 35.0254C54.3175 34.7225 54.2065 34.4204 54.0854 34.1201C53.9644 33.82 53.8339 33.5257 53.6958 33.2383L54.5972 32.8057ZM26.8823 32.7686L27.3296 32.9941C27.0406 33.5672 26.7889 34.1589 26.5767 34.7646L25.8618 34.5146L25.6333 34.4336C25.8598 33.787 26.1285 33.1557 26.437 32.5439L26.8823 32.7686ZM8.52979 32.083L9.01416 32.208C8.85283 32.8352 8.70994 33.4684 8.58643 34.1055L8.09521 34.0098L7.60693 33.9141C7.7343 33.2572 7.882 32.6046 8.04834 31.958L8.52979 32.083ZM71.9858 30.623C72.1805 31.2661 72.3554 31.9111 72.5093 32.5576L71.5376 32.79C71.3884 32.163 71.2195 31.5359 71.0308 30.9121L71.6187 30.7354L71.9858 30.623ZM52.355 29.374C52.7985 29.8894 53.2111 30.4376 53.5894 31.0166L52.7515 31.5635C52.3977 31.022 52.0119 30.5093 51.5972 30.0273L52.355 29.374ZM29.4888 29.8213C29.0603 30.3015 28.6649 30.8083 28.3052 31.3369L27.479 30.7734C27.8632 30.2088 28.2858 29.6684 28.7437 29.1553L29.4888 29.8213ZM9.7417 28.3252L10.2075 28.5068C9.97193 29.1107 9.75324 29.7216 9.5542 30.3389L8.60498 30.0322C8.81017 29.3959 9.03498 28.766 9.27783 28.1436L9.7417 28.3252ZM70.9878 27.7852L71.2983 28.584C71.3156 28.6301 71.3321 28.6765 71.3491 28.7227L71.0317 28.8408L70.4116 29.0693C70.2995 28.7657 70.1829 28.4624 70.061 28.1602C69.939 27.8576 69.8122 27.5574 69.6821 27.2607L70.5981 26.8594C70.7321 27.1649 70.8621 27.4737 70.9878 27.7852ZM49.2974 26.6445C49.862 27.0287 50.4024 27.4514 50.9155 27.9092L50.2505 28.6553C49.7703 28.2269 49.2635 27.8313 48.7349 27.4717L49.2974 26.6445ZM32.1235 26.8994L32.397 27.3193C31.8553 27.6732 31.3421 28.0597 30.8599 28.4746L30.2085 27.7158C30.7237 27.2725 31.2724 26.8605 31.8511 26.4824L32.1235 26.8994ZM11.8354 24.9746C11.529 25.5463 11.2397 26.1271 10.9683 26.7158L10.5151 26.5059L10.1626 26.3447L10.062 26.2979C10.342 25.6906 10.6404 25.0917 10.9565 24.502L11.8354 24.9746ZM45.6372 24.7988C46.1975 24.9951 46.7462 25.2234 47.2808 25.4814L47.5269 25.6035L47.0776 26.4951C46.5046 26.2062 45.9128 25.9553 45.3071 25.7432L45.6372 24.7988ZM35.8579 25.6543C35.5553 25.7542 35.2536 25.8643 34.9536 25.9854C34.6535 26.1064 34.3592 26.2369 34.0718 26.375L33.6392 25.4746C33.9459 25.3273 34.2595 25.1877 34.5796 25.0586C34.8997 24.9295 35.2222 24.8128 35.5454 24.7061L35.8579 25.6543ZM68.772 23.292C69.1097 23.8642 69.4318 24.4499 69.7378 25.0479L69.395 25.2227L68.8491 25.5029C68.5524 24.9229 68.2391 24.3557 67.9116 23.8008L68.3433 23.5459L68.772 23.292ZM41.6255 23.959C42.3112 24.0109 42.9903 24.108 43.6587 24.248L43.4536 25.2266C42.8279 25.0954 42.192 25.0046 41.5503 24.9561L41.5884 24.457L41.5874 24.458L41.6255 23.959ZM39.6274 24.9375C38.9926 24.9732 38.3556 25.051 37.7202 25.1719L37.5327 24.1904C38.212 24.0611 38.8929 23.9767 39.5718 23.9385L39.6274 24.9375ZM13.8755 21.665C13.5025 22.1958 13.1458 22.737 12.8062 23.2881L12.3804 23.0254L12.3794 23.0264L12.1187 22.8652L11.9565 22.7646C12.3069 22.1961 12.6743 21.6374 13.0591 21.0898L13.8755 21.665ZM66.5278 19.9688C66.9335 20.4971 67.3239 21.0401 67.6997 21.5967L66.8726 22.1553C66.5083 21.6158 66.129 21.0893 65.7358 20.5771L66.2866 20.1533L66.5278 19.9688ZM16.2993 18.623C15.8643 19.1056 15.445 19.6012 15.0415 20.1074L14.2622 19.4854C14.6782 18.9635 15.1096 18.4526 15.5581 17.9551L16.2993 18.623ZM63.897 16.9443C64.3642 17.42 64.8193 17.9099 65.2593 18.416L64.5054 19.0723C64.0789 18.5817 63.6389 18.1046 63.186 17.6436L63.897 16.9443ZM19.0718 15.9004C18.5814 16.3267 18.1059 16.767 17.645 17.2197L16.9448 16.5068C17.4202 16.0399 17.9117 15.5862 18.4175 15.1465L19.0718 15.9004ZM60.9194 14.2607C61.4413 14.6767 61.9521 15.1082 62.4497 15.5566L62.2358 15.7949L61.7817 16.2988C61.2991 15.8638 60.8036 15.4445 60.2974 15.041L60.9194 14.2607ZM22.1558 13.5332C21.6162 13.8975 21.0898 14.2767 20.5776 14.6699L20.2729 14.2734L19.9702 13.876C20.4982 13.4707 21.042 13.0816 21.5981 12.7061L22.1558 13.5332ZM57.6401 11.9551C58.2085 12.3053 58.7675 12.673 59.3149 13.0576L58.7407 13.876C58.2098 13.5029 57.668 13.1454 57.1167 12.8057L57.6401 11.9551ZM25.5034 11.5557C24.9233 11.8525 24.3553 12.1666 23.8003 12.4941L23.2935 11.6328C23.8658 11.295 24.4512 10.973 25.0493 10.667L25.5034 11.5557ZM54.1079 10.0605C54.7148 10.3404 55.3134 10.6391 55.9028 10.9551L55.4302 11.835C54.8587 11.5286 54.2784 11.2391 53.6899 10.9678L54.0259 10.2363L54.1079 10.0605ZM29.0698 9.99316C28.7659 10.1054 28.4623 10.2227 28.1597 10.3447C27.8573 10.4667 27.5578 10.5927 27.2612 10.7227L27.0601 10.2637V10.2646L26.8608 9.80762C26.9058 9.78792 26.9506 9.76756 26.9956 9.74805L27.7856 9.41699C28.0972 9.29132 28.4101 9.17124 28.7231 9.05566L29.0698 9.99316ZM50.3735 8.60449C51.0098 8.80965 51.6399 9.03259 52.2622 9.27539L51.8989 10.207C51.2952 9.97148 50.6841 9.75371 50.0669 9.55469L50.3735 8.60449ZM32.6753 8.38184L32.6743 8.38086L32.7896 8.86816C32.1628 9.01729 31.5371 9.18534 30.9136 9.37402L30.77 8.89453L30.769 8.89551L30.6245 8.41895C31.2674 8.2244 31.9127 8.04929 32.5591 7.89551L32.6753 8.38184ZM46.4907 7.60547C47.1476 7.73281 47.8002 7.87958 48.4468 8.0459L48.1978 9.01367C47.5705 8.85235 46.9374 8.71042 46.3003 8.58691L46.4907 7.60547ZM36.5659 7.70215L36.5649 7.70117L36.6206 8.19922C35.979 8.2714 35.3371 8.36361 34.6958 8.47559L34.5239 7.49121C35.1855 7.37569 35.8474 7.27954 36.5093 7.20508L36.5659 7.70215ZM42.5161 7.08105C43.1843 7.12822 43.8496 7.19697 44.5112 7.28418L44.3813 8.27441C43.7397 8.18984 43.0938 8.12288 42.4458 8.07715L42.5161 7.08105ZM40.5132 7.00195L40.5024 8C39.8562 7.99373 39.2072 8.0078 38.5581 8.04102L38.5073 7.04297C39.1771 7.00869 39.8464 6.99546 40.5132 7.00195Z"
        fill="#7F746A"
      />
    </svg>
  );
}

export function StepReceiveIcon() {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="79"
      height="107"
      viewBox="0 0 79 107"
      fill="none"
    >
      <path
        d="M71.0811 27.9688L55.0273 36.877L55.4424 37.1064L54.958 37.9814L53.9961 37.4492L47.9414 40.8096L47.9307 48.9072L48.3828 49.1582L48.1406 49.5957L47.9297 49.9736L47.9082 67.2979L32.1797 67.2773L32.1982 51.9512L30.6777 53.0186L30.3906 52.6084L30.1035 52.1992L31.6807 51.0947L31.9668 51.5039L32.1992 51.835L32.2129 40.6543L27.583 38.1748L26.5908 38.8105L26.0518 37.9688L26.5732 37.6338L9.44336 28.4609L9 28.2246L16.4678 14.3799L40.1426 27.1494L47.3164 23.168V21.5059H48.3164V22.6133L63.4492 14.2158L71.0811 27.9688ZM40.9229 37.1035L33.2119 41.2139L33.1807 66.2783L46.9092 66.2959L46.9297 49.4951L46.2305 49.1064L46.4736 48.6689L46.7158 48.2314L46.9316 48.3516L46.9414 40.3604L40.8828 37.0283L40.9229 37.1035ZM18.6953 60.1963L19.0684 59.9336L19.3555 60.3438L19.6426 60.7529L18.8545 61.3057L18.4385 61.5967L18.1543 61.1768L17.6338 60.4141L18.0479 60.1328L18.4609 59.8506L18.6953 60.1963ZM22.5088 58.1338L22.7959 58.543L21.2188 59.6484L20.9316 59.2383L20.6455 58.8291L22.2207 57.7236L22.5088 58.1338ZM64.9834 57.6201L64.1729 59.0762L63.7354 58.834L62.9023 58.3701L63.1445 57.9326L63.3887 57.4961L63.7852 57.7168L64.1094 57.1338L64.9834 57.6201ZM17.4229 58.3232L17.0098 58.6055L16.5957 58.8857L15.5566 57.3584L15.9697 57.0781L16.3838 56.7969L17.4229 58.3232ZM61.7207 56.5703L61.4775 57.0068L61.2354 57.4443L59.5684 56.5176L59.8105 56.0801L60.0537 55.6436L61.7207 56.5703ZM25.9482 56.333L24.3721 57.4375L24.085 57.0293L23.7979 56.6191L25.374 55.5146L25.9482 56.333ZM15.3447 55.2686L14.5176 55.8311L13.4795 54.3037L14.3057 53.7412L15.3447 55.2686ZM58.3867 54.7168L58.1436 55.1533L57.9014 55.5908L56.2334 54.6641L56.7197 53.791L58.3867 54.7168ZM67.251 53.5449L66.1172 55.583L65.2432 55.0967L66.3779 53.0586L67.251 53.5449ZM28.8145 53.7139L29.1006 54.123L27.5244 55.2275L27.2373 54.8193L26.9512 54.4092L28.5273 53.3047L28.8145 53.7139ZM55.0527 52.8643L54.5664 53.7383L52.8984 52.8115L53.3848 51.9385L55.0527 52.8643ZM13.2676 52.2139L12.4395 52.7764L11.4014 51.248L11.8145 50.9668L12.2275 50.6865L13.2676 52.2139ZM51.7168 51.0107L51.4746 51.4482L51.2314 51.8857L49.5645 50.959L49.8076 50.5215L50.0498 50.084L51.7168 51.0107ZM69.5205 49.4688L68.3857 51.5068L67.5117 51.0205L68.6465 48.9824L69.5205 49.4688ZM35.4072 49.7031L33.8301 50.8086L33.5439 50.3984L33.2568 49.9902L34.833 48.8848L35.4072 49.7031ZM11.3711 48.5557L10.959 48.8203L11.1895 49.1582L10.7754 49.4395L10.3623 49.7217L9.84277 48.957L9.55469 48.5322L10.832 47.7139L11.3711 48.5557ZM38.2734 47.084L38.5605 47.4941L36.9834 48.5986L36.6963 48.1885L36.4102 47.7793L37.9854 46.6748L38.2734 47.084ZM45.0488 47.3057L44.5625 48.1807L42.8955 47.2539L43.3818 46.3789L45.0488 47.3057ZM14.7529 46.3906L13.0625 47.4736L12.5234 46.6309L14.2139 45.5488L14.7529 46.3906ZM71.0264 45.7314L71.4648 45.9746L70.6543 47.4307L69.7803 46.9443L70.1035 46.3633L69.7217 46.1523L70.207 45.2773L71.0264 45.7314ZM41.7148 45.4521L41.4717 45.8896L41.2295 46.3271L40.668 46.0146L40.1367 46.3877L39.8496 45.9795L39.5625 45.5693L40.3506 45.0166L40.6377 45.4258L40.8799 44.9893L41.7148 45.4521ZM18.1357 44.2246L16.4453 45.3076L15.9053 44.4648L17.5967 43.3828L18.1357 44.2246ZM68.5664 44.3701L68.0811 45.2441L66.4414 44.3369L66.6826 43.8994L66.9258 43.4619L68.5664 44.3701ZM65.2852 42.5537L65.043 42.9912L64.8018 43.4287L63.1602 42.5215L63.4033 42.084L63.6445 41.6465L65.2852 42.5537ZM21.5176 42.0596L19.8271 43.1416L19.2871 42.2998L20.9785 41.2168L21.5176 42.0596ZM62.0039 40.7383L61.7627 41.1768L61.5195 41.6133L59.8799 40.7051L60.1221 40.2676L60.3633 39.8301L62.0039 40.7383ZM24.8994 39.8936L23.209 40.9766L22.6689 40.1348L24.3604 39.0518L24.8994 39.8936ZM10.3574 27.8154L27.5381 37.0156L27.7432 36.8857L27.9766 37.25L33.1357 40.0137L33.0547 40.1641L40.085 36.416V27.958L39.9619 28.1875L16.873 15.7344L10.3574 27.8154ZM58.7236 38.9229L58.2393 39.7979L56.5986 38.8896L57.083 38.0156L58.7236 38.9229ZM41.085 27.7695V35.998L47.8477 39.7178L53.6299 36.5088L53.8018 36.1992L53.9951 36.3057L69.7217 27.5801L63.0596 15.5752L41.085 27.7695ZM31.6641 35.5625L29.9727 36.6455L29.4336 35.8037L31.125 34.7207L31.6641 35.5625ZM52.1611 35.292L51.9189 35.7285L51.6777 36.167L50.0371 35.2588L50.2783 34.8213L50.5205 34.3838L52.1611 35.292ZM34.3242 33.6436H34.0117L34.2002 33.9385L33.3545 34.4805L32.8154 33.6377L33.3242 33.3115V32.71H34.3242V33.6436ZM48.3164 33.1641L48.8799 33.4756L48.6387 33.9131L48.3965 34.3506L47.5762 33.8975L47.7168 33.6436H47.3164V32.71H48.3164V33.1641ZM34.3242 30.8428H33.3242V28.9756H34.3242V30.8428ZM48.3164 30.8428H47.3164V28.9756H48.3164V30.8428ZM34.3242 27.1074H33.3242V25.2402H34.3242V27.1074ZM48.3164 27.1074H47.3164V25.2402H48.3164V27.1074ZM34.3242 23.373H33.3242V21.5059H34.3242V23.373ZM34.3242 19.6377H33.3242V17.7705H34.3242V19.6377ZM48.3164 19.6377H47.3164V17.7705H48.3164V19.6377ZM34.3242 15.9033H33.3242V14.0361H34.3242V15.9033ZM48.3164 15.9033H47.3164V14.0361H48.3164V15.9033ZM34.3242 12.1689H33.3242V10.3008H34.3242V12.1689ZM48.3164 12.1689H47.3164V10.3008H48.3164V12.1689ZM34.9902 8H34.3242V8.43359H33.3242V7H34.9902V8ZM48.3164 8.43359H47.3164V8H46.6504V7H48.3164V8.43359ZM39.6543 8H37.3223V7H39.6543V8ZM44.3184 8H41.9863V7H44.3184V8Z"
        fill="#7F746A"
      />
      <circle cx="41.5" cy="38.6987" r="3.5" fill="#7F746A" />
    </svg>
  );
}
